#*=====================================================================*/
#*    serrano/prgm/project/bglstone/tools/runit/Makefile               */
#*    -------------------------------------------------------------    */
#*    Author      :  Manuel Serrano                                    */
#*    Creation    :  Sun Aug  5 12:08:21 2001                          */
#*    Last change :  Wed Feb  9 13:32:50 2005 (serrano)                */
#*    Copyright   :  2001-05 Manuel Serrano                            */
#*    -------------------------------------------------------------    */
#*    The Makefile to compile runit                                    */
#*=====================================================================*/

#*---------------------------------------------------------------------*/
#*    Configuration                                                    */
#*---------------------------------------------------------------------*/
include ../../Makefile.config

#*---------------------------------------------------------------------*/
#*    Parameters and variables                                         */
#*---------------------------------------------------------------------*/
TOOL=$(TOOLSBIN)/runit
OBJECTS=runit.o timeit.o
IDIR=`$(BGLTOOLS) -eval '(begin (print (cadr *lib-dir*)) (exit 0))'`

#*---------------------------------------------------------------------*/
#*    runit                                                            */
#*---------------------------------------------------------------------*/
$(TOOL): $(OBJECTS)	
	$(BGLTOOLS) $(BGLTOOLSFLAGS) $(OBJECTS) -o $(TOOL)

#*---------------------------------------------------------------------*/
#*    clean                                                            */
#*---------------------------------------------------------------------*/
clean:
	/bin/rm -f $(OBJECTS)
	/bin/rm -f $(TOOL)

#*---------------------------------------------------------------------*/
#*    SUFFIXES                                                         */
#*---------------------------------------------------------------------*/
.SUFFIXES:
.SUFFIXES: .scm .c .o

#*---------------------------------------------------------------------*/
#*    .scm.o                                                           */
#*---------------------------------------------------------------------*/
.scm.o:
	$(BGLTOOLS) $(BGLTOOLSFLAGS) $*.scm -o $*.o -c

#*---------------------------------------------------------------------*/
#*    .c.o                                                             */
#*---------------------------------------------------------------------*/
.c.o:
	$(CCTOOLS) $(CCTOOLSFLAGS) -I$(IDIR) $*.c -o $*.o -c

