#*=====================================================================*/
#*    serrano/diffusion/article/bjvm/bench/makes/Makefile.mlj          */
#*    -------------------------------------------------------------    */
#*    Author      :  Manuel Serrano                                    */
#*    Creation    :  Wed Jan 17 14:34:35 2001                          */
#*    Last change :  Thu Jan 18 20:36:32 2001 (serrano)                */
#*    Copyright   :  2001 Manuel Serrano                               */
#*    -------------------------------------------------------------    */
#*    The standard Makefile to compile kawa benchamrks.                */
#*=====================================================================*/
#*---------------------------------------------------------------------*/
#*    The compile and flags                                            */
#*---------------------------------------------------------------------*/
MLJ=mlj
KFLAGS=-make

#*---------------------------------------------------------------------*/
#*    Basename and objects                                             */
#*---------------------------------------------------------------------*/
BENCH=
OBJECTS=$(BENCH).zip

#*---------------------------------------------------------------------*/
#*    Jvm entry                                                        */
#*---------------------------------------------------------------------*/
a.mlj: $(OBJECTS)
	echo "#!/bin/sh" > a.mlj
	echo "java -noverify -classpath $(BENCH).zip $(BENCH)" >> a.mlj
	chmod a+rx a.mlj

#*---------------------------------------------------------------------*/
#*    clean:                                                           */
#*---------------------------------------------------------------------*/
clean:
	/bin/rm -f $(OBJECTS)
	/bin/rm -f a.mlj
	/bin/rm -f *.zip
	cleanup

#*---------------------------------------------------------------------*/
#*    Implicit rules                                                   */
#*---------------------------------------------------------------------*/
%.zip: %.sml
	$(MLJ) $(KFLAGS) $* -quit

